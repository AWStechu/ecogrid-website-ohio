{
  "description": "Test ECS Auto-Scaling by injecting CPU stress on EcoGrid service",
  "roleArn": "arn:aws:iam::442042546183:role/FISExperimentRole",
  "actions": {
    "StressCPU": {
      "actionId": "aws:ecs:stress-cpu",
      "description": "Inject CPU stress to trigger auto-scaling",
      "parameters": {
        "duration": "PT10M",
        "cpu": "80"
      },
      "targets": {
        "Tasks": "ECSTasksTarget"
      }
    }
  },
  "targets": {
    "ECSTasksTarget": {
      "resourceType": "aws:ecs:task",
      "resourceTags": {},
      "resourceArns": [],
      "selectionMode": "ALL",
      "parameters": {
        "cluster": "ecogrid-cluster",
        "service": "ecogrid-service-bg"
      }
    }
  },
  "stopConditions": [
    {
      "source": "aws:cloudwatch:alarm",
      "value": "arn:aws:cloudwatch:us-east-1:442042546183:alarm:ECS-CPU-High"
    }
  ],
  "tags": {
    "Name": "EcoGrid-AutoScaling-Test",
    "Purpose": "Test ECS auto-scaling behavior"
  }
}
